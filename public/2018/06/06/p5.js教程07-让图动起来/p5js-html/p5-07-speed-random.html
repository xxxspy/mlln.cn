
<html>
<head><meta name="generator" content="Hexo 3.8.0">
<meta charset="utf-8">
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.sound.min.js"></script>
<title>Notebook中显示P5.js页面</title>
</head>
<body>
<a href="http://mlln.cn" target="_blank"><h5>p5.js效果展示: p5js-html/p5-07-speed-random.html</h5></a>
<script>
// 速度是每帧1个像素
// 用random生成一个随机数
let speed_x = 1 
let speed_y = 2 
// 方向有1 和 -1两个取值
let direction_x = 1
let direction_y = 1
let x = 1
let y = 50
function setup() {  
    createCanvas(220, 220);  
    // 使用random方法可以生成处于两个参数之间的数字
    speed_x *= random(1, 10) * 0.1
    speed_y *= random(5, 10) * 0.1
    // 方向也是随机的
    if (random(0, 1)>0.5){
        direction_x *= -1
    }
    if (random(0, 1)>0.5){
        direction_y *= -1
    }
}

function draw() {
    // 更改小球的x坐标实现运动效果
    x += speed_x*direction_x;
    y += speed_y*direction_y;
    background(204); 
    ellipse(x, y, 20, 20); 
    // 判断小球在x方向上是否出界
    if(x > 210){
        direction_x = -1
        // 如果出界, 调转方向
    }else if(x < 10){
        direction_x = 1
    }
    // 判断小球在y方向上是否出界
    if(y > 210){
        // 如果出界, 调转方向
        direction_y = -1
    }else if(y < 10){
        direction_y = 1
    }
}
</script>
</body>
</html>
