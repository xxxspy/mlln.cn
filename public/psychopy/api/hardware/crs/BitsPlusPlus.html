<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>BitsPlusPlus &mdash; PsychoPy v1.8-Psychopy教程</title>
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.85.4',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="PsychoPy v1.8" href="../../../index.html" />
    <link rel="up" title="Cambridge Research Systems Ltd." href="../crs.html" />
    <link rel="next" title="BitsSharp" href="BitsSharp.html" />
    <link rel="prev" title="Cambridge Research Systems Ltd." href="../crs.html" /> 
  </head>
  <body>


<div id="header"  style="background-color: white">
<table width="100%" cellpadding="10">
<tr><td style="text-align:left;vertical-align:middle">
<a href='/psychopy'><img src="../../../_static/psychopyDocBanner2.gif" alt="PsychoPy logo" /></a>
</td><td style="text-align:right;vertical-align:middle">
<a href='/psychopy'><img src="../../../_static/nott_logo.png" alt="University of Nottingham" /></a>
</td></table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="BitsSharp.html" title="BitsSharp"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../crs.html" title="Cambridge Research Systems Ltd."
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../../api.html" >Reference Manual (API)</a> &raquo;</li>
          <li><a href="../../hardware.html" ><code class="docutils literal"><span class="pre">psychopy.hardware</span></code> - hardware interfaces</a> &raquo;</li>
          <li><a href="../crs.html" accesskey="U">Cambridge Research Systems Ltd.</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">BitsPlusPlus</span></code></a><ul>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
<li><a class="reference internal" href="#finding-the-identity-lut">Finding the identity LUT</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../crs.html"
                                  title="previous chapter">Cambridge Research Systems Ltd.</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="BitsSharp.html"
                                  title="next chapter"><code class="docutils literal"><span class="pre">BitsSharp</span></code></a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/api/hardware/crs/BitsPlusPlus.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>

            <h3>Quick links</h3>
            <ul>
            <li><a href="/2018/03/07/psychopy绿色免安装版下载/"><strong>psychopy免安装版下载</strong></a></li>
            <li><a href="http://mlln.cn">心理学技术讨论群:680552969</a></li>
            <li><a href="http://mlln.cn">站长QQ: 675495787</a></li>
            <li><a href="https://shop68313372.taobao.com/">淘宝店</a></li>
            </ul>

          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bitsplusplus">
<span id="id1"></span><h1><code class="xref py py-class docutils literal"><span class="pre">BitsPlusPlus</span></code><a class="headerlink" href="#bitsplusplus" title="Permalink to this headline">¶</a></h1>
<p>Control a CRS Bits# device. See typical usage in the class summary (and in the
menu demos&gt;hardware&gt;BitsBox of PsychoPy&#8217;s Coder view).</p>
<p><strong>Important:</strong> See note on <a class="reference internal" href="#bitsplusplusidentitylut">BitsPlusPlusIdentityLUT</a></p>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsPlusPlus" title="psychopy.hardware.crs.bits.BitsPlusPlus"><code class="xref py py-obj docutils literal"><span class="pre">BitsPlusPlus</span></code></a>(win[,&nbsp;contrast,&nbsp;gamma,&nbsp;...])</td>
<td>The main class to control a Bits++ box.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">BitsPlusPlus.mode</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setContrast" title="psychopy.hardware.crs.bits.BitsPlusPlus.setContrast"><code class="xref py py-obj docutils literal"><span class="pre">BitsPlusPlus.setContrast</span></code></a>(contrast[,&nbsp;...])</td>
<td>Set the contrast of the LUT for &#8216;bits++&#8217; mode only</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setGamma" title="psychopy.hardware.crs.bits.BitsPlusPlus.setGamma"><code class="xref py py-obj docutils literal"><span class="pre">BitsPlusPlus.setGamma</span></code></a>(newGamma)</td>
<td>Set the LUT to have the requested gamma value Currently also resets the LUT to be a linear contrast ramp spanning its full range.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setLUT" title="psychopy.hardware.crs.bits.BitsPlusPlus.setLUT"><code class="xref py py-obj docutils literal"><span class="pre">BitsPlusPlus.setLUT</span></code></a>([newLUT,&nbsp;gammaCorrect,&nbsp;...])</td>
<td>Sets the LUT to a specific range of values in &#8216;bits++&#8217; mode only</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="psychopy.hardware.crs.bits.BitsPlusPlus">
<em class="property">class </em><code class="descclassname">psychopy.hardware.crs.bits.</code><code class="descname">BitsPlusPlus</code><span class="sig-paren">(</span><em>win</em>, <em>contrast=1.0</em>, <em>gamma=None</em>, <em>nEntries=256</em>, <em>mode='bits++'</em>, <em>rampType='configFile'</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsPlusPlus" title="Permalink to this definition">¶</a></dt>
<dd><p>The main class to control a Bits++ box.</p>
<p>This is usually a class added within the window object and is
typically accessed from there. e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">psychopy</span> <span class="k">import</span> <span class="n">visual</span>
<span class="kn">from</span> <span class="nn">psychopy.hardware</span> <span class="k">import</span> <span class="n">crs</span>

<span class="n">win</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">Window</span><span class="p">([</span><span class="mi">800</span><span class="p">,</span><span class="mi">600</span><span class="p">])</span>
<span class="n">bits</span> <span class="o">=</span> <span class="n">crs</span><span class="o">.</span><span class="n">BitsPlusPlus</span><span class="p">(</span><span class="n">win</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;bits++&#39;</span><span class="p">)</span>
<span class="c1"># use bits++ to reduce the whole screen contrast by 50%:</span>
<span class="n">bits</span><span class="o">.</span><span class="n">setContrast</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>contrast :</dt>
<dd><p class="first last">The contrast to be applied to the LUT.
See <a class="reference internal" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setLUT" title="psychopy.hardware.crs.bits.BitsPlusPlus.setLUT"><code class="xref py py-func docutils literal"><span class="pre">BitsPlusPlus.setLUT()</span></code></a> and
<a class="reference internal" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setContrast" title="psychopy.hardware.crs.bits.BitsPlusPlus.setContrast"><code class="xref py py-func docutils literal"><span class="pre">BitsPlusPlus.setContrast()</span></code></a> for flexibility on setting
just a section of the LUT to a different value</p>
</dd>
<dt>gamma :</dt>
<dd><p class="first last">The value used to correct the gamma in the LUT</p>
</dd>
<dt>nEntries</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">256</span><dd><p class="first last">[DEPRECATED feature]</p>
</dd>
<dt>mode</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">&#8216;bits++&#8217; (or &#8216;mono++&#8217; or &#8216;color++&#8217;)</span><dd><p class="first last">Note that, unlike the Bits#, this only affects the way the
window is rendered, it does not switch the state of the Bits++
device itself (because unlike the Bits# have no way to
communicate with it).
The mono++ and color++ are only supported in PsychoPy 1.82.00
onwards. Even then they suffer from not having gamma
correction applied on Bits++ (unlike Bits# which can apply
a gamma table in the device hardware).</p>
</dd>
<dt>rampType</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">&#8216;configFile&#8217;, None or an integer</span><dd><p class="first last">if &#8216;configFile&#8217; then we&#8217;ll look for a valid config in the
userPrefs folder if an integer then this will be used during
win.setGamma(rampType=rampType):</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsPlusPlus.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsPlusPlus.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: This was used on the old Bits++ to power-cycle the box
It required the compiled dll, which only worked on windows and doesn&#8217;t
work with Bits#</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsPlusPlus.setContrast">
<code class="descname">setContrast</code><span class="sig-paren">(</span><em>contrast</em>, <em>LUTrange=1.0</em>, <em>gammaCorrect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setContrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the contrast of the LUT for &#8216;bits++&#8217; mode only</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>contrast</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float in the range 0:1</span><dd><p class="first last">The contrast for the range being set</p>
</dd>
<dt>LUTrange</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float or array</span><dd><p class="first last">If a float is given then this is the fraction of the LUT
to be used. If an array of floats is given, these will
specify the start / stop points as fractions of the LUT.
If an array of ints (0-255) is given these determine the
start stop <em>indices</em> of the LUT</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Examples:</dt>
<dd><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">setContrast(1.0,0.5)</span></code></dt>
<dd>will set the central 50% of the LUT so that a stimulus with
contr=0.5 will actually be drawn with contrast 1.0</dd>
</dl>
<p><code class="docutils literal"><span class="pre">setContrast(1.0,[0.25,0.5])</span></code></p>
<dl class="last docutils">
<dt><code class="docutils literal"><span class="pre">setContrast(1.0,[63,127])</span></code></dt>
<dd>will set the lower-middle quarter of the LUT
(which might be useful in LUT animation paradigms)</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsPlusPlus.setGamma">
<code class="descname">setGamma</code><span class="sig-paren">(</span><em>newGamma</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setGamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the LUT to have the requested gamma value
Currently also resets the LUT to be a linear contrast
ramp spanning its full range. May change this to read
the current LUT, undo previous gamm and then apply
new one?</p>
</dd></dl>

<dl class="method">
<dt id="psychopy.hardware.crs.bits.BitsPlusPlus.setLUT">
<code class="descname">setLUT</code><span class="sig-paren">(</span><em>newLUT=None</em>, <em>gammaCorrect=True</em>, <em>LUTrange=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#psychopy.hardware.crs.bits.BitsPlusPlus.setLUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the LUT to a specific range of values in &#8216;bits++&#8217; mode only</p>
<p>Note that, if you leave gammaCorrect=True then any LUT values you
supply will automatically be gamma corrected.</p>
<p>The LUT will take effect on the next <cite>Window.flip()</cite></p>
<dl class="docutils">
<dt><strong>Examples:</strong></dt>
<dd><dl class="first last docutils">
<dt><code class="docutils literal"><span class="pre">bitsBox.setLUT()</span></code></dt>
<dd>builds a LUT using bitsBox.contrast and bitsBox.gamma</dd>
<dt><code class="docutils literal"><span class="pre">bitsBox.setLUT(newLUT=some256x1array)</span></code></dt>
<dd>(NB array should be float 0.0:1.0)
Builds a luminance LUT using newLUT for each gun
(actually array can be 256x1 or 1x256)</dd>
<dt><code class="docutils literal"><span class="pre">bitsBox.setLUT(newLUT=some256x3array)</span></code></dt>
<dd>(NB array should be float 0.0:1.0)
Allows you to use a different LUT on each gun</dd>
</dl>
</dd>
</dl>
<p>(NB by using BitsBox.setContr() and BitsBox.setGamma() users may not
need this function)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="finding-the-identity-lut">
<span id="bitsplusplusidentitylut"></span><h2>Finding the identity LUT<a class="headerlink" href="#finding-the-identity-lut" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>For the Bits++ (and related) devices
to work correctly it is essential that the graphics card is not
altering in any way the values being passed to the monitor (e.g. by gamma
correcting). It turns out that finding the &#8216;identity&#8217; LUT, where exactly the
same values come out as were put in, is not trivial. The obvious LUT
would have something like 0/255, 1/255, 2/255... in entry locations 0,1,2...
but unfortunately most graphics cards on most operating systems are
&#8216;broken&#8217; in one way or another, with rounding errors and incorrect start
points etc.</p>
<p>PsychoPy provides a few of the common variants of LUT and that can be
chosen when you initialise the device using the parameter <cite>rampType</cite>. If no
<cite>rampType</cite> is specified then PsychoPy will choose one for you:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">psychopy</span> <span class="k">import</span> <span class="n">visual</span>
<span class="kn">from</span> <span class="nn">psychopy.hardware</span> <span class="k">import</span> <span class="n">crs</span>

<span class="n">win</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">Window</span><span class="p">([</span><span class="mi">1024</span><span class="p">,</span><span class="mi">768</span><span class="p">],</span> <span class="n">useFBO</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#we need to be rendering to framebuffer</span>
<span class="n">bits</span> <span class="o">=</span> <span class="n">crs</span><span class="o">.</span><span class="n">BitsPlusPlus</span><span class="p">(</span><span class="n">win</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;bits++&#39;</span><span class="p">,</span> <span class="n">rampType</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The Bits# is capable of reporting back the pixels in a line and this can be
used to test that a particular LUT is indeed providing identity values.
If you have previously connected a <a class="reference internal" href="BitsSharp.html#psychopy.hardware.crs.bits.BitsSharp" title="psychopy.hardware.crs.bits.BitsSharp"><code class="xref py py-class docutils literal"><span class="pre">BitsSharp</span></code></a> device and used it with
PsychoPy then a file will have been stored with a LUT that has been tested
with that device. In this case set <cite>rampType = &#8220;configFile&#8221;</cite> for PsychoPy
to use it if such a file is found.</p>
</div></blockquote>
</div>
</div>


          </div>
          <div class="container"><div id="SOHUCS"></div>
			<script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js" ></script>
			<script type="text/javascript">
			window.changyan.api.config({
			appid: 'cysqnjGqk',
			conf: 'prod_023698c59c1b0d0e29687979a2d2e9a3'
			});
			</script>
		  </div>
        </div>
      </div>

      <div class="clearer"></div>
      
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="BitsSharp.html" title="BitsSharp"
             >next</a> |</li>
        <li class="right" >
          <a href="../crs.html" title="Cambridge Research Systems Ltd."
             >previous</a> |</li>
        <li><a href="../../../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../../../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="../../api.html" >Reference Manual (API)</a> &raquo;</li>
          <li><a href="../../hardware.html" ><code class="docutils literal"><span class="pre">psychopy.hardware</span></code> - hardware interfaces</a> &raquo;</li>
          <li><a href="../crs.html" >Cambridge Research Systems Ltd.</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2015, Jonathan Peirce.
      Last updated on Mar 08, 2018.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>