<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial 1: Generating your first stimulus &mdash; PsychoPy v1.8-Psychopy教程</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.85.4',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="PsychoPy v1.8" href="../index.html" />
    <link rel="up" title="Coder" href="coder.html" />
    <link rel="next" title="Tutorial 2: Measuring a JND using a staircase procedure" href="tutorial2.html" />
    <link rel="prev" title="Global Event Keys" href="globalKeys.html" /> 
  </head>
  <body>


<div id="header"  style="background-color: white">
<table width="100%" cellpadding="10">
<tr><td style="text-align:left;vertical-align:middle">
<a href='/psychopy'><img src="../_static/psychopyDocBanner2.gif" alt="PsychoPy logo" /></a>
</td><td style="text-align:right;vertical-align:middle">
<a href='/psychopy'><img src="../_static/nott_logo.png" alt="University of Nottingham" /></a>
</td></table>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial2.html" title="Tutorial 2: Measuring a JND using a staircase procedure"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="globalKeys.html" title="Global Event Keys"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="coder.html" accesskey="U">Coder</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Tutorial 1: Generating your first stimulus</a><ul>
<li><a class="reference internal" href="#know-your-monitor">Know your monitor</a></li>
<li><a class="reference internal" href="#your-first-stimulus">Your first stimulus</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="globalKeys.html"
                                  title="previous chapter">Global Event Keys</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="tutorial2.html"
                                  title="next chapter">Tutorial 2: Measuring a JND using a staircase procedure</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/coder/tutorial1.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>

            <h3>Quick links</h3>
            <ul>
            <li><a href="/2018/03/07/psychopy绿色免安装版下载/"><strong>psychopy免安装版下载</strong></a></li>
            <li><a href="http://mlln.cn">心理学技术讨论群:680552969</a></li>
            <li><a href="http://mlln.cn">站长QQ: 675495787</a></li>
            <li><a href="https://shop68313372.taobao.com/">淘宝店</a></li>
            </ul>

          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial-1-generating-your-first-stimulus">
<h1>Tutorial 1: Generating your first stimulus<a class="headerlink" href="#tutorial-1-generating-your-first-stimulus" title="Permalink to this headline">¶</a></h1>
<p>A tutorial to get you going with your first stimulus display.</p>
<div class="section" id="know-your-monitor">
<h2>Know your monitor<a class="headerlink" href="#know-your-monitor" title="Permalink to this headline">¶</a></h2>
<p>PsychoPy has been designed to handle your screen calibrations for you. It is also designed to operate (if possible) in the final experimental units that you like to use e.g. degrees of visual angle.</p>
<p>In order to do this PsychoPy needs to know a little about your monitor. There is a GUI to help with this (select MonitorCenter from the tools menu of PsychoPyIDE or run ...site-packages/monitors/MonitorCenter.py).</p>
<p>In the MonitorCenter window you can create a new monitor name, insert values that describe your monitor and run calibrations like gamma corrections. For now you can just stick to the [<cite>testMonitor</cite>] but give it correct values for your screen size in number of pixels and width in cm.</p>
<p>Now, when you create a window on your monitor you can give it the name &#8216;testMonitor&#8217; and stimuli will know how they should be scaled appropriately.</p>
</div>
<div class="section" id="your-first-stimulus">
<h2>Your first stimulus<a class="headerlink" href="#your-first-stimulus" title="Permalink to this headline">¶</a></h2>
<p>Building stimuli is extremely easy. All you need to do is create a
<a class="reference internal" href="../api/visual/window.html#psychopy.visual.Window" title="psychopy.visual.Window"><code class="xref py py-class docutils literal"><span class="pre">Window</span></code></a>, then some stimuli. Draw those stimuli, then update the window. PsychoPy has various other useful commands to help with timing too. Here&#8217;s an example. Type it into a coder window, save it somewhere and press run.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">psychopy</span> <span class="kn">import</span> <span class="n">visual</span><span class="p">,</span> <span class="n">core</span>  <span class="c1"># import some libraries from PsychoPy</span>

<span class="c1">#create a window</span>
<span class="n">mywin</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">Window</span><span class="p">([</span><span class="mi">800</span><span class="p">,</span><span class="mi">600</span><span class="p">],</span> <span class="n">monitor</span><span class="o">=</span><span class="s2">&quot;testMonitor&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;deg&quot;</span><span class="p">)</span>

<span class="c1">#create some stimuli</span>
<span class="n">grating</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">GratingStim</span><span class="p">(</span><span class="n">win</span><span class="o">=</span><span class="n">mywin</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sf</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">fixation</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">GratingStim</span><span class="p">(</span><span class="n">win</span><span class="o">=</span><span class="n">mywin</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rgb</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">#draw the stimuli and update the window</span>
<span class="n">grating</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">fixation</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">mywin</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

<span class="c1">#pause, so you get a chance to see it!</span>
<span class="n">core</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>For those new to Python.</strong> Did you notice that the grating and the fixation stimuli both call <a class="reference internal" href="../api/visual/gratingstim.html#psychopy.visual.GratingStim" title="psychopy.visual.GratingStim"><code class="xref py py-mod docutils literal"><span class="pre">GratingStim</span></code></a> but have different arguments? One of the nice features about python is that you can select which arguments to set. GratingStim has over 15 arguments that can be set, but the others just take on default values if they aren&#8217;t needed.</p>
</div>
<p>That&#8217;s a bit easy though. Let&#8217;s make the stimulus move, at least! To do that we need to create a loop where we change the phase (or orientation, or position...) of the stimulus and then redraw. Add this code in place of the drawing code above:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">frameN</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
    <span class="n">grating</span><span class="o">.</span><span class="n">setPhase</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span>  <span class="c1"># advance phase by 0.05 of a cycle</span>
    <span class="n">grating</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">fixation</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">mywin</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>That ran for 200 frames (and then waited 5 seconds as well). Maybe it would be nicer to keep updating until the user hits a key instead. That&#8217;s easy to add too. In the first line add <code class="xref py py-mod docutils literal"><span class="pre">event</span></code> to the list of modules you&#8217;ll import. Then replace the line:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">frameN</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
</pre></div>
</div>
<p>with the line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#this creates a never-ending loop</span>
</pre></div>
</div>
<p>Then, within the loop (make sure it has the same indentation as the other lines) add the lines:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">getKeys</span><span class="p">())</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">event</span><span class="o">.</span><span class="n">clearEvents</span><span class="p">()</span>
</pre></div>
</div>
<p>the first line counts how many keys have been pressed since the last frame. If more than zero are found then we break out of the never-ending loop. The second line clears the event buffer and should always be called after you&#8217;ve collected the events you want (otherwise it gets full of events that we don&#8217;t care about like the mouse moving around etc...).</p>
<p>Your <a class="reference external" href="https://raw.githubusercontent.com/psychopy/psychopy/master/docs/source/coder/tutorial1.py">finished script</a> should look something like this:</p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">psychopy</span> <span class="k">import</span> <span class="n">visual</span><span class="p">,</span> <span class="n">core</span><span class="p">,</span> <span class="n">event</span> <span class="c1">#import some libraries from PsychoPy</span>

<span class="c1">#create a window</span>
<span class="n">mywin</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">Window</span><span class="p">([</span><span class="mi">800</span><span class="p">,</span><span class="mi">600</span><span class="p">],</span><span class="n">monitor</span><span class="o">=</span><span class="s2">&quot;testMonitor&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;deg&quot;</span><span class="p">)</span>

<span class="c1">#create some stimuli</span>
<span class="n">grating</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">GratingStim</span><span class="p">(</span><span class="n">win</span><span class="o">=</span><span class="n">mywin</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sf</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">fixation</span> <span class="o">=</span> <span class="n">visual</span><span class="o">.</span><span class="n">GratingStim</span><span class="p">(</span><span class="n">win</span><span class="o">=</span><span class="n">mywin</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">sf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rgb</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">#draw the stimuli and update the window</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#this creates a never-ending loop</span>
    <span class="n">grating</span><span class="o">.</span><span class="n">setPhase</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span><span class="c1">#advance phase by 0.05 of a cycle</span>
    <span class="n">grating</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">fixation</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">mywin</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">getKeys</span><span class="p">())</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">event</span><span class="o">.</span><span class="n">clearEvents</span><span class="p">()</span>

<span class="c1">#cleanup</span>
<span class="n">mywin</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">core</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>There are several more simple scripts like this in the demos menu of the Coder and Builder views and many more to download. If you&#8217;re feeling like something bigger then go to
<a class="reference internal" href="tutorial2.html"><span class="doc">Tutorial 2: Measuring a JND using a staircase procedure</span></a> which will show you how to build an actual experiment.</p>
</div>
</div>


          </div>
          <div class="container"><div id="SOHUCS"></div>
			<script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js" ></script>
			<script type="text/javascript">
			window.changyan.api.config({
			appid: 'cysqnjGqk',
			conf: 'prod_023698c59c1b0d0e29687979a2d2e9a3'
			});
			</script>
		  </div>
        </div>
      </div>

      <div class="clearer"></div>
      
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial2.html" title="Tutorial 2: Measuring a JND using a staircase procedure"
             >next</a> |</li>
        <li class="right" >
          <a href="globalKeys.html" title="Global Event Keys"
             >previous</a> |</li>
        <li><a href="../index.html">PsychoPy</a> &raquo;</li>
          <li><a href="../documentation.html" >Documentation</a> &raquo;</li>
          <li><a href="coder.html" >Coder</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2015, Jonathan Peirce.
      Last updated on Mar 08, 2018.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>